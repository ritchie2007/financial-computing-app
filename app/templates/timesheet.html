{% extends 'base.html' %}

{% block styles %}
    {{super()}} 
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/style.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/common.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/bootstrap.min.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/bootstrap-select.min.css')}}">
{% endblock %}


{% block content %}
<div class="tbl-field"> 
    <div id="select-btn" class="timesheet-top-btn select-btn">
        <div class="container-fluid row">
            <div class="form-group col-md-1" >
                <label>Time Sheet</label>
            </div>
            <div  class="form-group col-md-1">
                <button type="button" class="btn btn-success timesheetbtn" data-showdiv="Dailyentry">Daily Entry</button> 
            </div>
            <div  class="form-group col-md-1">
                <button type="button" class="btn btn-success timesheetbtn" data-showdiv="Sheetlist">Sheet List</button> 
            </div>
            <div  class="form-group col-md-7">
                <p></p>
            </div>
            <div  class="form-group col-md-1">
                <button type="button" class="timesheetbtn" id="timesheettest" data-showdiv="Dailyentry">test</button>
                <button type="button" class="timesheetbtn" id="timesheetclearall" data-showdiv="Dailyentry">Clear</button>
            </div>
            <div  class="form-group col-md-1">
                <button type="button" class="btn btn-success timesheetbtn" id="timesheetsubmit" data-showdiv="Dailyentry">Submit</button> 
            </div>
            <style>
                .timesheet-top-btn .row {
                    margin: 15px;
                    padding: 0px;
                    border-bottom: darkgray solid 1px;
                }
                .timesheet-top-btn label {
                    margin: 0px;
                    padding: 0px 0px 0px 10px;
                    font-size: 17px;

                }
                .timesheet-top-btn .form-group {
                    margin: 0px;
                    padding: 0px;
                }
                .timesheet-top-btn .form-group button {
                    padding: 3px;
                }
                .timesheet-top-btn button.timesheetbtn:active, 
                .timesheet-top-btn button.timesheetbtn:focus, 
                .timesheet-top-btn button.timesheetbtn:hover {
                    color: #faf205 !important;
                }
            </style>
        <!-- <button type="button" class="btn btn-success timesheetbtn" data-showdiv="Dailyentry" >Daily Entry</button>&nbsp&nbsp&nbsp 
        <button type="button" class="btn btn-success timesheetbtn" data-showdiv="Sheetlist" >Sheet List</button>
        <button type="button" style="text-align: right;">Submit</button> -->
        </div>
    </div>
    <!-- Daily entry page -->
    <div id="Dailyentry" class="timesheettbl" style="display: block;">
        <div class="container-fluid">
            <div class="row" style="color: rgb(212, 148, 65); margin-left: 5px; margin-right: 5px;">
                <style>
                    .modal-open div.modal-backdrop.show {
                        z-index: -1 !important;
                    }
                </style>
                <!-- Modal to let user to confirm whether or not keep saved data -->

                <div id="Inputgroup01" class="entryinputgroup">
                    <form action="{{url_for('timesheet')}}" method="POST">
                        <div class="form-group col-md-2" style="margin-top: 7px; opacity: 1;">
                            <label style="color: #000; font-size: 12px;">
                                <button type="button" class="creat_new_entry">&nbsp;No. 1&nbsp;</button>
                                <button hidden>&#x1f512 </button>
                                <button class="inputgroupStart" disabled style="color: green; margin-left: 5px;">&#x23f5</button>
                                <button class="inputgroupStop" disabled style="color: red;">&#x23f9</button>
                                <button class="inputgroupData" type="button" style="color: blue; margin-left: 0px; float: right;">Copy</button>
                                <button type="reset" class="inputgroupReset" style="color: red; margin-left: 0px; float: right;">Reset</button>
                            </label>
                        </div>
                        <div class="form-group col-md-1">
                            <label for="timesheet1-1">Date</label>
                            <input type="text" class="form-control" name="timesheet1-1" readonly>
                        </div>
                        <!-- <div class="form-group col-md-1">
                            <label for="timesheet1-2">Staff</label>
                            <input type="text" class="form-control" name="timesheet1-2" id="timesheet1-2" readonly>
                        </div> -->
                        <div class="form-group col-md-2">
                            <label for="timesheet1-3">CalendarHour + Adj = WorkHour</label>
                            <div>
                                <input type="text" class="form-control col-sm-1 " name="timesheet1-3" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <input class="form-control col-sm-1 timecal" value="+" style="width: 8%; font-weight: 700; padding: 0px; text-align: center; border: none;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-41" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="8" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-41" onblur="timevalidation01('Inputgroup01')" style="width: 13%; text-align: right; border-right: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value=":" style="width: 4%; border: 0px; border-left: 0px; border-right: 0px; border-radius: 0px;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-42" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="59" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-42" onblur="timevalidation02('Inputgroup01')" style="width: 15%; text-align: left; border-left: 0px; border-top-left-radius: 0px; border-bottom-left-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value="=" style="width: 6%; border: none; background-color: #eaece9;" disabled>
                                <input type="text" class="form-control col-sm-1" name="timesheet1-5" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <div class="invalid-feedback" hidden>
                                    Name is a required field
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-6">Task Name</label>
                            <input type="text" class="form-control fillable" name="timesheet1-6" placeholder="input task name" disabled>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="timesheet1-7">Content</label>
                            <input type="text" class="form-control" name="timesheet1-7" disabled>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-8">Task Type</label>
                            <br/>
                            <select class="browser-default custom-select" name="timesheet1-8" style="width: 100%; height: 32px; border-color: #d5d6d5; background-color: #eeeeee;">
                                <option value="" >Please select</option>
                                {% for row in code_types %}
                                <option >{{row.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- dropdown style -->
                        <div class="form-group col-md-3">
                            <label for="timesheet1-9">Corporation 1</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-9" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-10">Corporation 2</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-10" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-11">Corporation 3</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-11" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-12">Corporation 4</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-12" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <!-- <div class="form-group col-md-2" >
                            <br/>
                            <button type="reset" class="btn btn-primary" style="background-color: darkred; margin-right: 20px;" value="Reset">Reset</button>
                            <button type="submit" class="btn btn-primary" style="background-color: green;" value="Submit" disabled>Submit</button>
                        </div> -->
                    </form>
                </div>
                <div id="Inputgroup02" class="entryinputgroup">
                    <form action="{{url_for('timesheet')}}" method="POST">
                        <div class="form-group col-md-2" style="margin-top: 7px; opacity: 1;">
                            <label style="color: #000; font-size: 12px;">
                                <button type="button" class="creat_new_entry">&nbsp;No. 2&nbsp;</button>
                                <button hidden>&#x1f512 </button>
                                <button class="inputgroupStart" disabled style="color: green; margin-left: 5px;">&#x23f5</button>
                                <button class="inputgroupStop" disabled style="color: red;">&#x23f9</button>
                                <button class="inputgroupData" type="button" style="color: blue; margin-left: 0px; float: right;">Copy</button>
                                <button type="reset" class="inputgroupReset" style="color: red; margin-left: 0px; float: right;">Reset</button>
                            </label>
                        </div>
                        <div class="form-group col-md-1">
                            <label for="timesheet1-1">Date</label>
                            <input type="text" class="form-control" name="timesheet1-1" readonly>
                        </div>
                        <!-- <div class="form-group col-md-1">
                            <label for="timesheet1-2">Staff</label>
                            <input type="text" class="form-control" name="timesheet1-2" id="timesheet1-2" readonly>
                        </div> -->
                        <div class="form-group col-md-2">
                            <label for="timesheet1-3">CalendarHour + Adj = WorkHour</label>
                            <div>
                                <input type="text" class="form-control col-sm-1 " name="timesheet1-3" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <input class="form-control col-sm-1 timecal" value="+" style="width: 8%; font-weight: 700; padding: 0px; text-align: center; border: none;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-41" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="8" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-41" onblur="timevalidation01('Inputgroup01')" style="width: 13%; text-align: right; border-right: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value=":" style="width: 4%; border: 0px; border-left: 0px; border-right: 0px; border-radius: 0px;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-42" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="59" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-42" onblur="timevalidation02('Inputgroup01')" style="width: 15%; text-align: left; border-left: 0px; border-top-left-radius: 0px; border-bottom-left-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value="=" style="width: 6%; border: none; background-color: #eaece9;" disabled>
                                <input type="text" class="form-control col-sm-1" name="timesheet1-5" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <div class="invalid-feedback" hidden>
                                    Name is a required field
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-6">Task Name</label>
                            <input type="text" class="form-control fillable" name="timesheet1-6" placeholder="input task name" disabled>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="timesheet1-7">Content</label>
                            <input type="text" class="form-control" name="timesheet1-7" disabled>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-8">Task Type</label>
                            <br/>
                            <select class="browser-default custom-select" name="timesheet1-8" style="width: 100%; height: 32px; border-color: #d5d6d5; background-color: #eeeeee;">
                                <option value="" >Please select</option>
                                {% for row in code_types %}
                                <option >{{row.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- dropdown style -->
                        <div class="form-group col-md-3">
                            <label for="timesheet1-9">Corporation 1</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-9" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-10">Corporation 2</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-10" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-11">Corporation 3</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-11" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-12">Corporation 4</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-12" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <!-- <div class="form-group col-md-2" >
                            <br/>
                            <button type="reset" class="btn btn-primary" style="background-color: darkred; margin-right: 20px;" value="Reset">Reset</button>
                            <button type="submit" class="btn btn-primary" style="background-color: green;" value="Submit" disabled>Submit</button>
                        </div> -->
                    </form>
                </div>
                <div id="Inputgroup03" class="entryinputgroup">
                    <form action="{{url_for('timesheet')}}" method="POST">
                        <div class="form-group col-md-2" style="margin-top: 7px; opacity: 1;">
                            <label style="color: #000; font-size: 12px;">
                                <button type="button" class="creat_new_entry">&nbsp;No. 3&nbsp;</button>
                                <button hidden>&#x1f512 </button>
                                <button class="inputgroupStart" disabled style="color: green; margin-left: 5px;">&#x23f5</button>
                                <button class="inputgroupStop" disabled style="color: red;">&#x23f9</button>
                                <button class="inputgroupData" type="button" style="color: blue; margin-left: 0px; float: right;">Copy</button>
                                <button type="reset" class="inputgroupReset" style="color: red; margin-left: 0px; float: right;">Reset</button>
                            </label>
                        </div>
                        <div class="form-group col-md-1">
                            <label for="timesheet1-1">Date</label>
                            <input type="text" class="form-control" name="timesheet1-1" readonly>
                        </div>
                        <!-- <div class="form-group col-md-1">
                            <label for="timesheet1-2">Staff</label>
                            <input type="text" class="form-control" name="timesheet1-2" id="timesheet1-2" readonly>
                        </div> -->
                        <div class="form-group col-md-2">
                            <label for="timesheet1-3">CalendarHour + Adj = WorkHour</label>
                            <div>
                                <input type="text" class="form-control col-sm-1 " name="timesheet1-3" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <input class="form-control col-sm-1 timecal" value="+" style="width: 8%; font-weight: 700; padding: 0px; text-align: center; border: none;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-41" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="8" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-41" onblur="timevalidation01('Inputgroup01')" style="width: 13%; text-align: right; border-right: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value=":" style="width: 4%; border: 0px; border-left: 0px; border-right: 0px; border-radius: 0px;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-42" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="59" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-42" onblur="timevalidation02('Inputgroup01')" style="width: 15%; text-align: left; border-left: 0px; border-top-left-radius: 0px; border-bottom-left-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value="=" style="width: 6%; border: none; background-color: #eaece9;" disabled>
                                <input type="text" class="form-control col-sm-1" name="timesheet1-5" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <div class="invalid-feedback" hidden>
                                    Name is a required field
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-6">Task Name</label>
                            <input type="text" class="form-control fillable" name="timesheet1-6" placeholder="input task name" disabled>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="timesheet1-7">Content</label>
                            <input type="text" class="form-control" name="timesheet1-7" disabled>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-8">Task Type</label>
                            <br/>
                            <select class="browser-default custom-select" name="timesheet1-8" style="width: 100%; height: 32px; border-color: #d5d6d5; background-color: #eeeeee;">
                                <option value="" >Please select</option>
                                {% for row in code_types %}
                                <option >{{row.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- dropdown style -->
                        <div class="form-group col-md-3">
                            <label for="timesheet1-9">Corporation 1</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-9" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-10">Corporation 2</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-10" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-11">Corporation 3</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-11" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-12">Corporation 4</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-12" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <!-- <div class="form-group col-md-2" >
                            <br/>
                            <button type="reset" class="btn btn-primary" style="background-color: darkred; margin-right: 20px;" value="Reset">Reset</button>
                            <button type="submit" class="btn btn-primary" style="background-color: green;" value="Submit" disabled>Submit</button>
                        </div> -->
                    </form>
                </div>
                <div id="Inputgroup04" class="entryinputgroup">
                    <form action="{{url_for('timesheet')}}" method="POST">
                        <div class="form-group col-md-2" style="margin-top: 7px; opacity: 1;">
                            <label style="color: #000; font-size: 12px;">
                                <button type="button" class="creat_new_entry">&nbsp;No. 4&nbsp;</button>
                                <button hidden>&#x1f512 </button>
                                <button class="inputgroupStart" disabled style="color: green; margin-left: 5px;">&#x23f5</button>
                                <button class="inputgroupStop" disabled style="color: red;">&#x23f9</button>
                                <button class="inputgroupData" type="button" style="color: blue; margin-left: 0px; float: right;">Copy</button>
                                <button type="reset" class="inputgroupReset" style="color: red; margin-left: 0px; float: right;">Reset</button>
                            </label>
                        </div>
                        <div class="form-group col-md-1">
                            <label for="timesheet1-1">Date</label>
                            <input type="text" class="form-control" name="timesheet1-1" readonly>
                        </div>
                        <!-- <div class="form-group col-md-1">
                            <label for="timesheet1-2">Staff</label>
                            <input type="text" class="form-control" name="timesheet1-2" id="timesheet1-2" readonly>
                        </div> -->
                        <div class="form-group col-md-2">
                            <label for="timesheet1-3">CalendarHour + Adj = WorkHour</label>
                            <div>
                                <input type="text" class="form-control col-sm-1 " name="timesheet1-3" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <input class="form-control col-sm-1 timecal" value="+" style="width: 8%; font-weight: 700; padding: 0px; text-align: center; border: none;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-41" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="8" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-41" onblur="timevalidation01('Inputgroup01')" style="width: 13%; text-align: right; border-right: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value=":" style="width: 4%; border: 0px; border-left: 0px; border-right: 0px; border-radius: 0px;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-42" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="59" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-42" onblur="timevalidation02('Inputgroup01')" style="width: 15%; text-align: left; border-left: 0px; border-top-left-radius: 0px; border-bottom-left-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value="=" style="width: 6%; border: none; background-color: #eaece9;" disabled>
                                <input type="text" class="form-control col-sm-1" name="timesheet1-5" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <div class="invalid-feedback" hidden>
                                    Name is a required field
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-6">Task Name</label>
                            <input type="text" class="form-control fillable" name="timesheet1-6" placeholder="input task name" disabled>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="timesheet1-7">Content</label>
                            <input type="text" class="form-control" name="timesheet1-7" disabled>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-8">Task Type</label>
                            <br/>
                            <select class="browser-default custom-select" name="timesheet1-8" style="width: 100%; height: 32px; border-color: #d5d6d5; background-color: #eeeeee;">
                                <option value="" >Please select</option>
                                {% for row in code_types %}
                                <option >{{row.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- dropdown style -->
                        <div class="form-group col-md-3">
                            <label for="timesheet1-9">Corporation 1</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-9" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-10">Corporation 2</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-10" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-11">Corporation 3</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-11" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-12">Corporation 4</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-12" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <!-- <div class="form-group col-md-2" >
                            <br/>
                            <button type="reset" class="btn btn-primary" style="background-color: darkred; margin-right: 20px;" value="Reset">Reset</button>
                            <button type="submit" class="btn btn-primary" style="background-color: green;" value="Submit" disabled>Submit</button>
                        </div> -->
                    </form>
                </div>
                <div id="Inputgroup05" class="entryinputgroup">
                    <form action="{{url_for('timesheet')}}" method="POST">
                        <div class="form-group col-md-2" style="margin-top: 7px; opacity: 1;">
                            <label style="color: #000; font-size: 12px;">
                                <button type="button" class="creat_new_entry">&nbsp;No. 5&nbsp;</button>
                                <button hidden>&#x1f512 </button>
                                <button class="inputgroupStart" disabled style="color: green; margin-left: 5px;">&#x23f5</button>
                                <button class="inputgroupStop" disabled style="color: red;">&#x23f9</button>
                                <button class="inputgroupData" type="button" style="color: blue; margin-left: 0px; float: right;">Copy</button>
                                <button type="reset" class="inputgroupReset" style="color: red; margin-left: 0px; float: right;">Reset</button>
                            </label>
                        </div>
                        <div class="form-group col-md-1">
                            <label for="timesheet1-1">Date</label>
                            <input type="text" class="form-control" name="timesheet1-1" readonly>
                        </div>
                        <!-- <div class="form-group col-md-1">
                            <label for="timesheet1-2">Staff</label>
                            <input type="text" class="form-control" name="timesheet1-2" id="timesheet1-2" readonly>
                        </div> -->
                        <div class="form-group col-md-2">
                            <label for="timesheet1-3">CalendarHour + Adj = WorkHour</label>
                            <div>
                                <input type="text" class="form-control col-sm-1 " name="timesheet1-3" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <input class="form-control col-sm-1 timecal" value="+" style="width: 8%; font-weight: 700; padding: 0px; text-align: center; border: none;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-41" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="8" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-41" onblur="timevalidation01('Inputgroup01')" style="width: 13%; text-align: right; border-right: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value=":" style="width: 4%; border: 0px; border-left: 0px; border-right: 0px; border-radius: 0px;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-42" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="59" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-42" onblur="timevalidation02('Inputgroup01')" style="width: 15%; text-align: left; border-left: 0px; border-top-left-radius: 0px; border-bottom-left-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value="=" style="width: 6%; border: none; background-color: #eaece9;" disabled>
                                <input type="text" class="form-control col-sm-1" name="timesheet1-5" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <div class="invalid-feedback" hidden>
                                    Name is a required field
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-6">Task Name</label>
                            <input type="text" class="form-control fillable" name="timesheet1-6" placeholder="input task name" disabled>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="timesheet1-7">Content</label>
                            <input type="text" class="form-control" name="timesheet1-7" disabled>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-8">Task Type</label>
                            <br/>
                            <select class="browser-default custom-select" name="timesheet1-8" style="width: 100%; height: 32px; border-color: #d5d6d5; background-color: #eeeeee;">
                                <option value="" >Please select</option>
                                {% for row in code_types %}
                                <option >{{row.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- dropdown style -->
                        <div class="form-group col-md-3">
                            <label for="timesheet1-9">Corporation 1</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-9" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-10">Corporation 2</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-10" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-11">Corporation 3</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-11" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-12">Corporation 4</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-12" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <!-- <div class="form-group col-md-2" >
                            <br/>
                            <button type="reset" class="btn btn-primary" style="background-color: darkred; margin-right: 20px;" value="Reset">Reset</button>
                            <button type="submit" class="btn btn-primary" style="background-color: green;" value="Submit" disabled>Submit</button>
                        </div> -->
                    </form>
                </div>
                <div id="Inputgroup06" class="entryinputgroup">
                    <form action="{{url_for('timesheet')}}" method="POST">
                        <div class="form-group col-md-2" style="margin-top: 7px; opacity: 1;">
                            <label style="color: #000; font-size: 12px;">
                                <button type="button" class="creat_new_entry">&nbsp;No. 6&nbsp;</button>
                                <button hidden>&#x1f512 </button>
                                <button class="inputgroupStart" disabled style="color: green; margin-left: 5px;">&#x23f5</button>
                                <button class="inputgroupStop" disabled style="color: red;">&#x23f9</button>
                                <button class="inputgroupData" type="button" style="color: blue; margin-left: 0px; float: right;">Copy</button>
                                <button type="reset" class="inputgroupReset" style="color: red; margin-left: 0px; float: right;">Reset</button>
                            </label>
                        </div>
                        <div class="form-group col-md-1">
                            <label for="timesheet1-1">Date</label>
                            <input type="text" class="form-control" name="timesheet1-1" readonly>
                        </div>
                        <!-- <div class="form-group col-md-1">
                            <label for="timesheet1-2">Staff</label>
                            <input type="text" class="form-control" name="timesheet1-2" id="timesheet1-2" readonly>
                        </div> -->
                        <div class="form-group col-md-2">
                            <label for="timesheet1-3">CalendarHour + Adj = WorkHour</label>
                            <div>
                                <input type="text" class="form-control col-sm-1 " name="timesheet1-3" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <input class="form-control col-sm-1 timecal" value="+" style="width: 8%; font-weight: 700; padding: 0px; text-align: center; border: none;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-41" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="8" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-41" onblur="timevalidation01('Inputgroup01')" style="width: 13%; text-align: right; border-right: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value=":" style="width: 4%; border: 0px; border-left: 0px; border-right: 0px; border-radius: 0px;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-42" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="59" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-42" onblur="timevalidation02('Inputgroup01')" style="width: 15%; text-align: left; border-left: 0px; border-top-left-radius: 0px; border-bottom-left-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value="=" style="width: 6%; border: none; background-color: #eaece9;" disabled>
                                <input type="text" class="form-control col-sm-1" name="timesheet1-5" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <div class="invalid-feedback" hidden>
                                    Name is a required field
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-6">Task Name</label>
                            <input type="text" class="form-control fillable" name="timesheet1-6" placeholder="input task name" disabled>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="timesheet1-7">Content</label>
                            <input type="text" class="form-control" name="timesheet1-7" disabled>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-8">Task Type</label>
                            <br/>
                            <select class="browser-default custom-select" name="timesheet1-8" style="width: 100%; height: 32px; border-color: #d5d6d5; background-color: #eeeeee;">
                                <option value="" >Please select</option>
                                {% for row in code_types %}
                                <option >{{row.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- dropdown style -->
                        <div class="form-group col-md-3">
                            <label for="timesheet1-9">Corporation 1</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-9" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-10">Corporation 2</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-10" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-11">Corporation 3</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-11" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-12">Corporation 4</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-12" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <!-- <div class="form-group col-md-2" >
                            <br/>
                            <button type="reset" class="btn btn-primary" style="background-color: darkred; margin-right: 20px;" value="Reset">Reset</button>
                            <button type="submit" class="btn btn-primary" style="background-color: green;" value="Submit" disabled>Submit</button>
                        </div> -->
                    </form>
                </div>
                <div id="Inputgroup07" class="entryinputgroup">
                    <form action="{{url_for('timesheet')}}" method="POST">
                        <div class="form-group col-md-2" style="margin-top: 7px; opacity: 1;">
                            <label style="color: #000; font-size: 12px;">
                                <button type="button" class="creat_new_entry">&nbsp;No. 7&nbsp;</button>
                                <button hidden>&#x1f512 </button>
                                <button class="inputgroupStart" disabled style="color: green; margin-left: 5px;">&#x23f5</button>
                                <button class="inputgroupStop" disabled style="color: red;">&#x23f9</button>
                                <button class="inputgroupData" type="button" style="color: blue; margin-left: 0px; float: right;">Copy</button>
                                <button type="reset" class="inputgroupReset" style="color: red; margin-left: 0px; float: right;">Reset</button>
                            </label>
                        </div>
                        <div class="form-group col-md-1">
                            <label for="timesheet1-1">Date</label>
                            <input type="text" class="form-control" name="timesheet1-1" readonly>
                        </div>
                        <!-- <div class="form-group col-md-1">
                            <label for="timesheet1-2">Staff</label>
                            <input type="text" class="form-control" name="timesheet1-2" id="timesheet1-2" readonly>
                        </div> -->
                        <div class="form-group col-md-2">
                            <label for="timesheet1-3">CalendarHour + Adj = WorkHour</label>
                            <div>
                                <input type="text" class="form-control col-sm-1 " name="timesheet1-3" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <input class="form-control col-sm-1 timecal" value="+" style="width: 8%; font-weight: 700; padding: 0px; text-align: center; border: none;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-41" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="8" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-41" onblur="timevalidation01('Inputgroup01')" style="width: 13%; text-align: right; border-right: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value=":" style="width: 4%; border: 0px; border-left: 0px; border-right: 0px; border-radius: 0px;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-42" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="59" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-42" onblur="timevalidation02('Inputgroup01')" style="width: 15%; text-align: left; border-left: 0px; border-top-left-radius: 0px; border-bottom-left-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value="=" style="width: 6%; border: none; background-color: #eaece9;" disabled>
                                <input type="text" class="form-control col-sm-1" name="timesheet1-5" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <div class="invalid-feedback" hidden>
                                    Name is a required field
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-6">Task Name</label>
                            <input type="text" class="form-control fillable" name="timesheet1-6" placeholder="input task name" disabled>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="timesheet1-7">Content</label>
                            <input type="text" class="form-control" name="timesheet1-7" disabled>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-8">Task Type</label>
                            <br/>
                            <select class="browser-default custom-select" name="timesheet1-8" style="width: 100%; height: 32px; border-color: #d5d6d5; background-color: #eeeeee;">
                                <option value="" >Please select</option>
                                {% for row in code_types %}
                                <option >{{row.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- dropdown style -->
                        <div class="form-group col-md-3">
                            <label for="timesheet1-9">Corporation 1</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-9" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-10">Corporation 2</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-10" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-11">Corporation 3</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-11" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-12">Corporation 4</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-12" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <!-- <div class="form-group col-md-2" >
                            <br/>
                            <button type="reset" class="btn btn-primary" style="background-color: darkred; margin-right: 20px;" value="Reset">Reset</button>
                            <button type="submit" class="btn btn-primary" style="background-color: green;" value="Submit" disabled>Submit</button>
                        </div> -->
                    </form>
                </div>
                <div id="Inputgroup08" class="entryinputgroup">
                    <form action="{{url_for('timesheet')}}" method="POST">
                        <div class="form-group col-md-2" style="margin-top: 7px; opacity: 1;">
                            <label style="color: #000; font-size: 12px;">
                                <button type="button" class="creat_new_entry">&nbsp;No. 8&nbsp;</button>
                                <button hidden>&#x1f512 </button>
                                <button class="inputgroupStart" disabled style="color: green; margin-left: 5px;">&#x23f5</button>
                                <button class="inputgroupStop" disabled style="color: red;">&#x23f9</button>
                                <button class="inputgroupData" type="button" style="color: blue; margin-left: 0px; float: right;">Copy</button>
                                <button type="reset" class="inputgroupReset" style="color: red; margin-left: 0px; float: right;">Reset</button>
                            </label>
                        </div>
                        <div class="form-group col-md-1">
                            <label for="timesheet1-1">Date</label>
                            <input type="text" class="form-control" name="timesheet1-1" readonly>
                        </div>
                        <!-- <div class="form-group col-md-1">
                            <label for="timesheet1-2">Staff</label>
                            <input type="text" class="form-control" name="timesheet1-2" id="timesheet1-2" readonly>
                        </div> -->
                        <div class="form-group col-md-2">
                            <label for="timesheet1-3">CalendarHour + Adj = WorkHour</label>
                            <div>
                                <input type="text" class="form-control col-sm-1 " name="timesheet1-3" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <input class="form-control col-sm-1 timecal" value="+" style="width: 8%; font-weight: 700; padding: 0px; text-align: center; border: none;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-41" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="8" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-41" onblur="timevalidation01('Inputgroup01')" style="width: 13%; text-align: right; border-right: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value=":" style="width: 4%; border: 0px; border-left: 0px; border-right: 0px; border-radius: 0px;" readonly>
                                <input type="number" class="form-control col-sm-1 timeselect" name="timesheet1-42" style="width: 14%; padding: 0%; text-align: center;" onmousewheel="true" min="0" max="59" step="1" value="00" disabled>
                                <!-- <input type="text" class="form-control col-sm-1" name="timesheet1-42" onblur="timevalidation02('Inputgroup01')" style="width: 15%; text-align: left; border-left: 0px; border-top-left-radius: 0px; border-bottom-left-radius: 0px;" value="00" disabled> -->
                                <input type="text" class="form-control col-sm-1" value="=" style="width: 6%; border: none; background-color: #eaece9;" disabled>
                                <input type="text" class="form-control col-sm-1" name="timesheet1-5" style="width: 25%; text-align: center;" value="00 : 00" readonly>
                                <div class="invalid-feedback" hidden>
                                    Name is a required field
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-6">Task Name</label>
                            <input type="text" class="form-control fillable" name="timesheet1-6" placeholder="input task name" disabled>
                        </div>
                        <div class="form-group col-md-4">
                            <label for="timesheet1-7">Content</label>
                            <input type="text" class="form-control" name="timesheet1-7" disabled>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-8">Task Type</label>
                            <br/>
                            <select class="browser-default custom-select" name="timesheet1-8" style="width: 100%; height: 32px; border-color: #d5d6d5; background-color: #eeeeee;">
                                <option value="" >Please select</option>
                                {% for row in code_types %}
                                <option >{{row.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- dropdown style -->
                        <div class="form-group col-md-3">
                            <label for="timesheet1-9">Corporation 1</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-9" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-3">
                            <label for="timesheet1-10">Corporation 2</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-10" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-11">Corporation 3</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-11" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="timesheet1-12">Corporation 4</label>
                            <br/>
                            <select class="browser-default custom-select selectpicker" name="timesheet1-12" data-live-search="true" >
                                <option value="" >Please select</option>
                                {% for row in tasklist %}
                                    <option >{{row.periodend}} | {{row.recurrence}} | {{row.jobtype}} | {{row.client}} | {{row.id}}</option>
                                {% endfor %} -->
                            </select>
                        </div>
                        <!-- <div class="form-group col-md-2" >
                            <br/>
                            <button type="reset" class="btn btn-primary" style="background-color: darkred; margin-right: 20px;" value="Reset">Reset</button>
                            <button type="submit" class="btn btn-primary" style="background-color: green;" value="Submit" disabled>Submit</button>
                        </div> -->
                    </form>
                </div>
                <!-- /* timesheet selectpicker (select dropdown with search) */ -->
                <style>
                    .dropdown.bootstrap-select.browser-default.custom-select {
                        width: 100%; 
                        height: 32px; 
                    }
                    .form-group .dropdown.custom-select button.btn.dropdown-toggle.btn-light {
                        opacity: 1;
                        border: #ccc solid 1px;
                        background-color: #eeeeee;
                    }
                    div#Inputgroup04 .form-group.col-md-3 div.dropdown-menu,
                    div#Inputgroup05 .form-group.col-md-3 div.dropdown-menu,
                    div#Inputgroup06 .form-group.col-md-3 div.dropdown-menu,
                    div#Inputgroup07 .form-group.col-md-3 div.dropdown-menu,
                    div#Inputgroup08 .form-group.col-md-3 div.dropdown-menu {
                        max-height: 400px !important;
                        min-height: 350px !important;
                        overflow: auto !important;
                        position: absolute;
                        transform: translate3d(0px, -434px, 0px) !important;
                    }
                    div#Inputgroup04 .form-group.col-md-2 div.dropdown-menu,
                    div#Inputgroup05 .form-group.col-md-2 div.dropdown-menu,
                    div#Inputgroup06 .form-group.col-md-2 div.dropdown-menu,
                    div#Inputgroup07 .form-group.col-md-2 div.dropdown-menu,
                    div#Inputgroup08 .form-group.col-md-2 div.dropdown-menu {
                        max-height: 400px !important;
                        min-height: 350px !important;
                        overflow: auto !important;
                        position: absolute;
                        transform: translate3d(-90px, -434px, 0px) !important;
                    }
                </style>
            </div>
        </div>
    </div>
    <!-- Sheet list page -->
    <div id="Sheetlist" class="timesheettbl" style="display: none;">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
            {% for message in messages %}
            <div class="alert alert-success alert-dismissable" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="close">
                    <span aria-hidden="true">x</span>
                </button>
            {{message}}
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}

        <input class="form-control mb-4" id="tableSearch" type="text"
            placeholder="Type something to search list items">
        <br/>
        <table class="table table-bordered table-striped table-hover">
            <thead>
                <tr >
                    <th class="col-1">ID</th>
                    <th class="col-1">Date</th>
                    <th class="col-2">TaskName</th>
                    <th class="col-1">TaskType</th>
                    <th class="col-2">Corporation</th>
                    <th class="col-1">WorkHour</th>
                    <th class="col-2">Content</th>
                    <th class="col-1">Staff</th>
                    <th class="col-1">Action</th>
                </tr>
            </thead>
            <tbody id="myTable">
                {% for row in list %}
                    <tr >
                        <td class="col-1">{{row[1]}}</td>
                        <td class="col-1">{{row.startdate}}</td>
                        <td class="col-2">{{row.taskname}}</td>
                        <td class="col-1">{{row.tasktype}}</td>
                        <td class="col-2">{{row.corp1}}</td>
                        <!-- <td class="col-1">{{row[4]}}</td> -->
                        <td class="col-2">{{row.client}}</td>
                        <td class="col-1">{{row.workhour}}</td>
                        <td class="col-2">{{row.taskcontent}}</td>
                        <td class="col-1">{{row.staff}}</td>
                        <td class="col-1">
                            <a href="/timesheetupdate/{{row.id}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modaledit{{row.id}}">Edit</a>
                            <a href="/delete/{{row.id}}" class="btn btn-danger btn-xs" onclick="return confirm('Are You Sure To Delete ?')">Delete</a>
                        </td>
                    </tr>

                <!-- Edit & update -->
                <div id="modaledit{{row.id}}" class="modal" role="dialog" aria-hidden="true" style="z-index: 300;">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title">Update Information</h4>
                            </div>
                            <div class="modal-body">
                                <form action="{{url_for('timesheetupdate')}}" method="POST">
                                    <div class="form-group">
                                        <label for="timesheet1-1">Date</label>
                                        <input type="hidden"  name="id" value="{{row.id}}">
                                        <input type="text" class="form-control" name="timesheet1-1" value="{{row.startdate}}" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-2">Staff</label>
                                        <input type="text" class="form-control" name="timesheet1-2" value="{{row.staff}}" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-3">Start time</label>
                                        <input type="text" class="form-control" name="timesheet1-3" value="{{row.starttime}}" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-4">Calendar hr</label>
                                        <input type="number" class="form-control" name="timesheet1-4" value="{{row.calhr}}" readonly>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="timesheet1-6">Working hr</label>
                                        <input type="number" step="any" class="form-control" name="timesheet1-6" value="{{row.workhr}}">
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-15">Comment</label>
                                        <input type="text" class="form-control fillable" name="timesheet1-15" value="{{row.comment}}">
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-7">Task Name</label>
                                        <input type="text" class="form-control fillable" name="timesheet1-7" value="{{row.taskname}}">
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-8">Task Type</label>
                                        <br/>
                                        <select class="browser-default custom-select" name="timesheet1-8" value="{{row.tasktype}}" style="height: 33px; background-color: #eeeeee;">
                                            <option selected="">select code</option>
                                            {% for row in code_types %}
                                            <option >{{row.name}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-9">Task Code</label>
                                        <input type="number" class="form-control" name="timesheet1-9" } value="{{row.taskcode}}">
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-10">Corporation 1</label>
                                        <input type="text" class="form-control fillable" name="timesheet1-10" value="{{row.corp1}}">
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-11">Task Content</label>
                                        <textarea type="text" class="form-control fillable" rows="6" name="timesheet1-11" value="{{row.taskcontent}}"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-12">Corporation 2</label>
                                        <input type="text" class="form-control fillable" name="timesheet1-12" value="{{row.corp2}}">
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-13">Corporation 3</label>
                                        <input type="text" class="form-control fillable" name="timesheet1-13" value="{{row.corp3}}">
                                    </div>
                                    <div class="form-group">
                                        <label for="timesheet1-14">Corporation 4</label>
                                        <input type="text" class="form-control fillable" name="timesheet1-14" value="{{row.corp4}}">
                                    </div>
                                    <div class="form-group">
                                        <button class="btn btn-primary" type="submit">Update</button>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div> 
                {% endfor %}
            </tbody>
        </table>

    </div>

    </div>
</div>
{% endblock %}
{% block scripts %}
    <script src="{{url_for('static', filename='js/jquery-3.5.1.js')}}"></script>
    <script src="{{url_for('static', filename='js/bootstrap.bundle.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/bootstrap-select.min.js')}}"></script>
    <script src="{{url_for('static', filename='js/main.js')}}"></script>
    
    <!-- <script type="module" src="{{url_for('static', filename='js/popper.js')}}"></script> -->
    <!-- <script src="{{url_for('static', filename='js/bootstrap.bundle.min.js')}}"></script> -->
    <!-- <script src="https://getbootstrap.com/docs/4.1/assets/js/vendor/popper.min.js"></script> -->
    
    <script type="text/javascript">
        
        var startTime = new Array(8);
        var calHour = [0,0,0,0,0,0,0,0];
        var adjust = [0,0,0,0,0,0,0,0];

        //start button
        $("button.inputgroupStart").click(function(){
            var root = $(this).parents('div').parents('div').attr("id");
            $("#"+root+" .form-group input").removeAttr('disabled');
            $("#"+root+" .form-group input").prop('readonly',false);
            $(this).prop('disabled', true);
            $(this).css({opacity: 0.4});
            $("#"+root+ " button.inputgroupStop").prop('disabled',false);
            $("#"+root+ " button.inputgroupStop").css({opacity: 1});
            var index = (parseInt(root.substr(10,2), 10)); //string变成十进制整数
            startTime[index-1] = new Date();
            $("#"+root+" .form-group [name='timesheet1-5']").val("run...");
        });

        //stop button
        $("button.inputgroupStop").click(function(){
            var root = $(this).parents('div').parents('div').attr("id");
            $("#"+root+" .form-group input").prop('readonly',true);
            $("#"+root+" button.inputgroupStart").prop('disabled',false);
            $("#"+root+" button.inputgroupStart").css({opacity: 1});
            $(this).prop('disabled', true);
            $(this).css({opacity: 0.4});
            var index = (parseInt(root.substr(10,2), 10)); //string变成十进制整数
            //calculate time
            var diff0 = (new Date() - startTime[index-1]);
            calHour[index-1] += diff0; //calendar hour
            //console.log(calHour[index-1]);
            // go to adjustment and display
            adjustment(root, index);
            // save data
            saveSub(root, 0, calHour[index-1]); //root: Inputgroup01, 
        })
        function adjustment(root, index){
            var wt1 = "";
            var wt2 = "";
            var tf= new formattime(calHour[index-1]);
            wt1 = (tf.hour<10)?"0"+(tf.hour).toString(10):(tf.hour).toString(10);
            wt2 = (tf.min<10)?"0"+(tf.min).toString(10):(tf.min).toString(10);
            $("#"+root+" .form-group [name='timesheet1-3']").val(wt1+" : "+wt2);
            var adj1=$("#"+root+" .form-group [name='timesheet1-41']").val();
            var adj2=$("#"+root+" .form-group [name='timesheet1-42']").val();
            adj1 = (adj1 == ""||parseInt(adj1, 10)<0||parseInt(adj1, 10)>8)? "00":adj1; //输--++自动变""；输-5，变5；输>8,变0" 
            adj2 = (adj2 == ""||parseInt(adj2, 10)<0||parseInt(adj2, 10)>59)? "00":adj2;
            $("#"+root+" .form-group [name='timesheet1-41']").val(parseInt(adj1, 10));//输055,009,变55,9
            $("#"+root+" .form-group [name='timesheet1-42']").val(parseInt(adj2),10);
            adjust[index-1] = parseInt(adj1, 10)*3600000 + parseInt(adj2, 10)*60000;
            if ($("#"+root+" input.timecal").val() == "+") {
                tf = new formattime(calHour[index-1] + adjust[index-1]);
            } else {
                if (calHour[index-1] < adjust[index-1]){
                    alert('Adjust time can not be greater than Calendar time');
                    tf = new formattime(0);
                    }
                else {tf = new formattime(calHour[index-1] - adjust[index-1]);}
            };
            $("#"+root+" .form-group [name='timesheet1-5']").val(tf.hour+" : "+tf.min);
        };

        // convert time number to hour and min
        function formattime(num) {
            this.hour = Math.floor(num/3600000);//diff.toFixed(2)保留2位小数，但成字符串了！
            //diff = Math.round(diff * 1000) / 1000; //保留小数替代办法
            this.min = Math.floor((num%3600000)/60000);
        };

        //timecalculation +/- change
        $("input.timecal").click(function(){
            if ($(this).val() == "+") {
                $(this).val("-");
            } else {
                $(this).val("+");
            }
        })
        //create new entry button 
        $("button.creat_new_entry").click(function(){
            var root = $(this).parents('div').parents('div').attr("id");
            $("#"+root+" .form-group input").removeAttr('disabled');
            $("#"+root+" .form-group input").prop('readonly',false);
            var time = timeformat((new Date()), 'yyyy-mm-dd hh:ii');
            $("#"+root+" .form-group [name='timesheet1-1']").val(time);
            // $("#"+root+" form #timesheet1-2").val('{{current_user.username}}');//flask模板template 与js问题js须和html在同一文件里.docx
            // $(this).addClass('disabled'); //这种方式不工作，下面2种都工作
            $(this).prop('disabled', true); //失活
            // $(this).attr('disabled', 'disabled'); 
            var index = (parseInt(root.substr(10,2), 10)); //string变成十进制整数
            startTime[index-1] = new Date();
            calHour[index-1] = 0;
            $("#"+root+" button.inputgroupStart").css({opacity: 0.4});
            $("#"+root+" button.inputgroupStop").prop('disabled',false);
            $("#"+root+" button.inputgroupStop").css({opacity: 1});
            localStorage.setItem((root+'date'), time);
        });
        //Change datatime format, time= new Date(), format="yyyy-mm-dd"
        function timeformat(time, format){
            const d = time;
            const year = d.getFullYear();
            const month = d.getMonth() + 1;
            const day = d.getDate();
            const hour = d.getHours();
            const minutes = d.getMinutes();
            const seconds = d.getSeconds();
            const weekday = d.getDay();
            function t(i) { return (i<10?"0":"")+i };

            return format.replace(/(yy){1,2}|m{1,2}|d{1,2}|h{1,2}|i{1,2}|s{1,2}|w{1,2}/gi, function(m) {
                //note: yyyy-mm-dd hh:ii:ss, it's "ii"
                switch (m.toUpperCase()) {
                    case 'YY': return ('' + year).substr(2);
                    case 'YYYY': return year;
                    case 'M': return month;
                    case 'MM': return t(month);
                    case 'D': return day;
                    case 'DD': return t(day);
                    case 'H': return hour;
                    case 'HH': return t(hour);
                    case 'I': return minutes;
                    case 'II': return t(minutes);
                    case 'S': return seconds;
                    case 'SS': return t(seconds);
                    case 'W': return `星期${['日', '一', '二', '三', '四', '五', '六'][weekday]}`;
                    case 'WW': return ['Sunday', 'Monday', 'TuesDay', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][weekday];
                }
            });
        };

        //reset action
        $("button.inputgroupReset").click(function(){
            var root = $(this).parents('div').parents('div').attr("id");
            $("#"+root+" button.creat_new_entry").prop('disabled',false);
            $("#"+root+" button.inputgroupStart").prop('disabled',true);
            $("#"+root+" button.inputgroupStop").prop('disabled',true);
            //document.querySelectorAll("#"+root+" .form-group .selectpicker").options.selectedIndex = 0;
            $("#"+root+" .form-group [name='timesheet1-8']").get(0).selectedIndex = 0; //
            $("#"+root+" .form-group [name='timesheet1-9']").get(0).selectedIndex = 0;
            $("#"+root+" .form-group [name='timesheet1-10']").get(0).selectedIndex = 0;
            $("#"+root+" .form-group [name='timesheet1-11']").get(0).selectedIndex = 0;
            $("#"+root+" .form-group [name='timesheet1-12']").get(0).selectedIndex = 0;
            $("#"+root+" .form-group .selectpicker").selectpicker('refresh');//需要
        })
        
        //sub-save data to Local
        function saveSub (root, runningCode, accomTime) {

            var str = new Array(16);
            str[0] = root;
            str[1] = $("#"+root+" .form-group [name='timesheet1-1']").val();
            str[2] = $("#"+root+" .form-group [name='timesheet1-3']").val();
            str[3] = $("#"+root+" .form-group [name='timesheet1-41']").val();
            str[4] = $("#"+root+" .form-group [name='timesheet1-42']").val();
            for (i=5; i<13; i++) {
                str[i] = $("#"+root+" .form-group [name='timesheet1-" + i + "']").val();
            };
            str[13] = runningCode;
            str[14] = accomTime;
            str[15] = Date.now();
            for (i=16; i<20; i++) {
                str[i] = $("#"+root+" .form-group [name='timesheet1-" + (i-7) + "']").get(0).selectedIndex
            }
            //submit to db 
            // $.ajax({
            //     url:"/timesheet_tempdata",
            //     type : 'POST',
            //     dataType:'json',
            //     headers: {"Content-Type": "application/json;charset=utf-8"},
            //     contentType:'application/json; charset=utf-8',
            //     data: JSON.stringify(str),
            //     // data: JSON.stringify (['value1', 'value2','value3']),
            //     success: function(e){console.log(e);},
            //     error: function(error) {console.log(error);}
            // })
            
            // save to localstorage
            var datasave = "";
            datasave = str.join('|&|')
            localStorage.setItem(root, datasave);
        }
        //Get data from LocalStorage and put into Input box
        $("button.inputgroupData").click(function(){
            var root = $(this).parents('div').parents('div').attr("id");
            loadData(root);
        })
        // load data to timesheet table
        function loadData(root) {
            var datasave = localStorage.getItem(root);
            if (datasave == null) { 
                console.log("loadData: No data is saved for this card");
            } else {
                datasave = datasave.split("|&|");
                $("#"+root+" .form-group [name='timesheet1-1']").val(datasave[1]);
                $("#"+root+" .form-group [name='timesheet1-3']").val(datasave[2]);
                $("#"+root+" .form-group [name='timesheet1-41']").val(datasave[3]);
                $("#"+root+" .form-group [name='timesheet1-42']").val(datasave[4]);
                for (i=5; i<9; i++) {
                    $("#"+root+" .form-group [name='timesheet1-" + i + "']").val(datasave[i]);
                };
                for (i=9; i<13; i++) {
                    $("#"+root+" .form-group [name='timesheet1-" + i + "']").get(0).selectedIndex = parseInt(datasave[i+7]);
                    //$("#"+root+" .form-group [name='timesheet1-" + i + "']").parent('div').find('div.filter-option-inner-inner').text(datasave[i]);
                    $("#"+root+" .form-group [name='timesheet1-" + i + "']").selectpicker('refresh');
                };
            };
            return datasave;
        };
        //page leaving 
        // window.onbeforeunload = function(event) {
        window.addEventListener('beforeunload', function(e) {
        // function leaving() {
            var runningCode = 0;
            var accomTime = 0;

            for (ileave=1; ileave<9; ileave++) {
                console.log("Root - Saving... "+ileave);
                if ($('#Inputgroup0' + ileave +' [name="timesheet1-1"]').val() == "") {
                    console.log("StartTime timesheet1-1 empty.");
                } else {
                    console.log("Saving... "+ileave+" in progress.");
                    if ($("#Inputgroup0"+ileave+" button.inputgroupStop").prop('disabled') == true) {
                        runningCode = 0;
                        accomTime = calHour[ileave-1];
                        console.log("RunningCode: "+runningCode+"  AccomTime:"+accomTime);
                    } else {
                        runningCode = 1;
                        accomTime = calHour[ileave-1] + ((new Date() - startTime[ileave-1]));
                        console.log("RunningCode: "+runningCode+"  AccomTime:"+accomTime);
                    }
                    saveSub ("Inputgroup0" + ileave, runningCode, accomTime);
                    console.log("back from --- saving : " + ileave);
                };
            }; 
        });
        // page loading
        window.onload = function(event) {
            //check data existed start Modal
            // $("#myModal").modal('show');
            var root = "";
            var str = "";
            for (iload=1; iload<9; iload++) {
                root = 'Inputgroup0' + iload;
                str = loadData(root);

                if (str == null) {
                    console.log("Inputgroup0"+iload+" is not active.");
                } else {
                    $("#"+root+" button.creat_new_entry").prop('disabled',true);
                    $("#"+root+" .form-group input").removeAttr('disabled');

                    if (str[13] == '0') { 
                        $("#"+root+" button.inputgroupStart").css({opacity: 1});
                        $("#"+root+" button.inputgroupStart").prop('disabled',false);
                        $("#"+root+" button.inputgroupStop").css({opacity: 0.4});
                        $("#"+root+" button.inputgroupStop").prop('disabled',true);
                        calHour[iload-1] = parseInt(str[14]);
                    } else if (str[13] == '1') {
                        $("#"+root+" .form-group input").prop('readonly',false);
                        $("#"+root+" button.inputgroupStart").css({opacity: 0.4});
                        $("#"+root+" button.inputgroupStart").prop('disabled',true);
                        $("#"+root+" button.inputgroupStop").css({opacity: 1});
                        $("#"+root+" button.inputgroupStop").prop('disabled',false);
                        calHour[iload-1] = parseInt(str[14]) + (Date.now() - parseInt(str[15]));
                        startTime[iload-1] = new Date();
                    } else {
                        console.log("Localstorage data is wrong.")
                    }
                };
            };
        };

        // submit
        $("button#timesheetsubmit").click(function(){
            // stop time recording
            var str = new Array(19);
            var root = '';
            var avg = '';
            var flag = 0;
            var temp = 0;
            for (isub=1; isub<9; isub++) {
                root = 'Inputgroup0' + isub;
                if ($("#"+root+" .form-group [name='timesheet1-1']").val() == "") {
                    console.log("No. " + isub + " is empty and not to be submited.");
                } else {
                    document.querySelector('#Inputgroup0' + isub + ' .inputgroupStop').click();
                    str[0] = root;
                    str[1] = $("#"+root+" .form-group [name='timesheet1-1']").val();
                    str[2] = $("#"+root+" .form-group [name='timesheet1-3']").val();
                    str[3] = $("#"+root+" .form-group [name='timesheet1-41']").val();
                    str[4] = $("#"+root+" .form-group [name='timesheet1-42']").val();
                    for (j=5; j<13; j++) {
                        str[j] = $("#"+root+" .form-group [name='timesheet1-" + j + "']").val();
                    };
                    str[13] = Date.now();
                    avg = (str[5].replace(' ','')).split(":");
                    if (avg==NaN) {avg =['0','0']};
                    temp = parseInt(avg[0])*60 + parseInt(avg[1]);
                    flag = [str[9], str[10], str[11], str[12]].filter(String).length;
                    flag = (flag ==0)?1:flag;
                    console.log("Total: " + temp + " flag: " + flag);
                    str[14] =(Math.round(temp/flag/0.60)/100)
                    for (j=15; j<19; j++){
                        str[j] = parseInt((str[j-6].split(' | '))[4]);
                        str[j] = (Number.isNaN(str[j]))?0:str[j]
                    }
                    // str[14] = String(Math.floor(temp/flag/60)) + ":" + String(Math.floor(temp/flag)%60);
                    console.log(str);
                    $.ajax({
                        url: "/timesheetInsertion",
                        type: "POST",
                        dataType: 'JSON',
                        contentType:'application/json; charset=utf-8',
                        data: JSON.stringify(str),
                        success: function(e){console.log(e);},
                        error: function(error) {console.log(error);}
                    });
                    console.log("Submiting ... : " + isub);
                };
            }

            for (i=1; i<9; i++) {
                $('#Inputgroup0'+i+' .inputgroupReset').click()
            }
            localStorage.clear();
            location.reload();

            //submit a array to backend
            // $.ajax({
            //     url:"/postmethod02",
            //     type : 'POST',
            //     dataType:'json',
            //     headers: {"Content-Type": "application/json;charset=utf-8"},
            //     contentType:'application/json; charset=utf-8',
            //     data: JSON.stringify({
            //         'key1': 'value1',
            //         'key2': 'value2',
            //         'key3': 'value3',
            //         'key4': ''
            //     }),
            //     // data: JSON.stringify (['value1', 'value2','value3']),
            //     success: function(e){console.log(e);},
            //     error: function(error) {console.log(error);}
            // })
        });
        // clearAll
        $("button#timesheetclearall").click(function(){
            for (i=1; i<9; i++) {
                $('#Inputgroup0'+i+' .inputgroupReset').click()
            }
            localStorage.clear();
            location.reload();
        });
        //automatic fill the first 3 boxes when mouse click
        // $('.entryinputgroup  form input.form-control').mousedown(function(event) {
        //     var root = $(this).parents('div').parents('form').parents('div').attr("id");
        //     $("#"+root+ " form #timesheet1-1").val(localStorage.getItem('Inputgroup01_01'));
        //     $("#"+root+ " form #timesheet1-2").val(localStorage.getItem('Inputgroup01_02'));
        //     $("#"+root+ " form #timesheet1-3").val(localStorage.getItem('Inputgroup01_03'));
        // });

        //automatic fill the first 3 boxes when mouse click
        // $('form #timesheet1-9').mousedown(function(event) {
        //     var root = $(this).parents('div').parents('form').parents('div').attr("id");
        //     var code = parseInt((($("#"+root+ " form #timesheet1-8").val()).substr(0,3)),10);
        //     $(this).val(code);
        // });
        
        // Dropdown select with search
        $(function() {
            $('.selectpicker').selectpicker();
        });

        // test input fake data to timesheet
        $("button#timesheettest").click(function(){
            var root = "";
            var d = new Date();
            var rnum = 0;
            var h1 = h2 = 0;
            var m1 = m2 = 0;
            var hour = 0;
            var min = 0;
            var tf= new formattime(60000);
            function t(i) { return (i<10?"0":"")+i };
            for (i=1; i<9; i++) {
                root = "Inputgroup0" + i;
                $("#"+root+" button.creat_new_entry").prop('disabled',true);
                $("#"+root+" button.inputgroupStart").prop('disabled',false);
                $("#"+root+" button.inputgroupStop").prop('disabled',true);
                $("#"+root+" .form-group input").removeAttr('disabled');
                
                h1 = Math.floor(Math.random()*8);
                m1 = Math.floor(Math.random()*59);
                min = ((d.getHours()*60 + d.getMinutes()) - (h1*60 + m1));
                hour = Math.floor(min/60);
                min = min%60;
                $("#"+root+" .form-group [name='timesheet1-1']").val(d.getFullYear()+"-"+t(d.getMonth()+1)+"-"+t(Math.floor(Math.random()*13+1))+" "+t(hour)+":"+t(min));//+"  "+t(d.getSeconds()));
                calHour[i-1] = h1*3600000 + m1*60000;
                tf= new formattime(calHour[i-1]);
                $("#"+root+" .form-group [name='timesheet1-3']").val(t(tf.hour)+" : "+t(tf.min));
                h2 = Math.floor(Math.random()*h1);
                m2 = Math.floor(Math.random()*m1);
                var adj1=$("#"+root+" .form-group [name='timesheet1-41']").val(t(h2));
                var adj2=$("#"+root+" .form-group [name='timesheet1-42']").val(t(m2));
                $("#"+root+" .form-group [name='timesheet1-5']").val(h1+h2+Math.floor((m1+m2)/60)+" : "+(m1+m2)%60);
                $("#"+root+" .form-group [name='timesheet1-6']").val("TaskName No. "+i+" on ");//+d.getFullYear()+"."+(d.getMonth()+1)+"."+d.getDate());
                $("#"+root+" .form-group [name='timesheet1-7']").val("text_Content No. "+i+" on ");//+d.getFullYear()+"."+(d.getMonth()+1)+"."+d.getDate());
                document.querySelector("#"+root+" .form-group [name='timesheet1-8']").selectedIndex = Math.floor(Math.random()*40);
                $("#"+root+" .form-group [name='timesheet1-9']").get(0).selectedIndex = Math.floor(Math.random()*3+1);
                $("#"+root+" .form-group [name='timesheet1-10']").get(0).selectedIndex = Math.floor(Math.random()*3+4);
                $("#"+root+" .form-group [name='timesheet1-11']").get(0).selectedIndex = Math.floor(Math.random()*2+8);
                $("#"+root+" .form-group [name='timesheet1-12']").get(0).selectedIndex = Math.floor(Math.random()*2+11);
                $("#"+root+" .form-group [name='timesheet1-9']").selectpicker('refresh');
                $("#"+root+" .form-group [name='timesheet1-10']").selectpicker('refresh');
                $("#"+root+" .form-group [name='timesheet1-11']").selectpicker('refresh');
                $("#"+root+" .form-group [name='timesheet1-12']").selectpicker('refresh');
            }
        });
    </script>
{%- endblock scripts %}
